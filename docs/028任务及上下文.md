# 任务及上下文

## 任务

任务就是进程或者线程，协程，就是一个执行流；

- 程序入口地址  eip
- 堆栈 - 内核栈 esp在PCB
- 寄存器信息 eip

## ABI 调用约定

Application Binary Interface

System V ABI

调用函数方需要方保存：

- eax
- ecx
- edx

在 cdecl 等约定中，函数调用方会将函数的参数推入栈中，并且在调用函数之前会将 eax、ecx 和 edx 寄存器的值推入栈中保存。这样做的目的是为了保护这些寄存器中的值不被调用函数修改，因为调用函数可能会使用这些寄存器来传递参数或保存临时值。

实现函数方保存，调用完成后寄存器值不变：

- ebx
- esi
- edi
- ebp
- esp

需要保存这些寄存器的值

## 内存分页

4G / 4K = 1M
