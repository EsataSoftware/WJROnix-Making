# 数据结构位图

节约内存使用，使用位图来标记信息，用一位来代表一个内存是否被占用，4GB的内存，1页是4k,所以需要2的20次方个比特，所以缓冲区就是128KB

```c++

typedef struct bitmap_t
{
    u8 *bits;// 位图缓冲区
    u32 length;// 位图缓冲区长度；
    u32 offset;// 位图开始偏移
}bitmap_t;

//初始化位图
void bitmap_init(bitmap_t *map,char * bits, u32 length,u32 offset );

//构造位图
void  bitmap_make(bitmap_t *map,char *bits, u32 length,u32 offset);

//测试位图一位是否为1
bool bitmap_test(bitmap_t *map, u32 index);

//设置位图某一位是否为1
bool bitmap_set(bitmap_t *map, u32 index,bool value);

//从位图中连续得到count位
bool bitmap_scan(bitmap_t *map, u32 count);
```